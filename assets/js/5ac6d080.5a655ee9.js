"use strict";(self.webpackChunkhousing_repairs_online=self.webpackChunkhousing_repairs_online||[]).push([[874],{4607:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>o});var i=r(4848),t=r(8453);const s={},l="Alerting & Montoring",a={id:"alerting-and-monitoring/intro",title:"Alerting & Montoring",description:"Monitoring",source:"@site/docs/alerting-and-monitoring/intro.md",sourceDirName:"alerting-and-monitoring",slug:"/alerting-and-monitoring/intro",permalink:"/housing-repairs-online/alerting-and-monitoring/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/LBHackney-IT/housing-repairs-online/tree/main/docs/alerting-and-monitoring/intro.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Addresses",permalink:"/housing-repairs-online/housing-management-system-api/endpoints/addresses"},next:{title:"Adoption",permalink:"/housing-repairs-online/adoption/intro"}},c={},o=[{value:"Monitoring",id:"monitoring",level:2},{value:"Sentry Setup",id:"sentry-setup",level:3},{value:"Account",id:"account",level:4},{value:"Project",id:"project",level:4},{value:"Azure Component Setup",id:"azure-component-setup",level:4},{value:"Alerting",id:"alerting",level:2},{value:"Create an action group",id:"create-an-action-group",level:3},{value:"Create an alert rule",id:"create-an-alert-rule",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"alerting--montoring",children:"Alerting & Montoring"})}),"\n",(0,i.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,i.jsxs)(n.p,{children:["Each component integrates with ",(0,i.jsx)(n.a,{href:"https://sentry.io",children:"Sentry"})," to provide reports of issues that occur.\nExamples of issues are when an external request fails or there is a exception during execution."]}),"\n",(0,i.jsx)(n.h3,{id:"sentry-setup",children:"Sentry Setup"}),"\n",(0,i.jsx)(n.h4,{id:"account",children:"Account"}),"\n",(0,i.jsxs)(n.p,{children:["A Sentry account needs to be created on the ",(0,i.jsx)(n.a,{href:"https://sentry.io/signup/",children:"signup page"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The free tier should be sufficient."}),"\n",(0,i.jsx)(n.h4,{id:"project",children:"Project"}),"\n",(0,i.jsx)(n.p,{children:"For each component a project needs to be created."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Click 'Create Project'"}),"\n",(0,i.jsxs)(n.li,{children:["Select the appropriate platform for each component.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Front end: Next.js"}),"\n",(0,i.jsx)(n.li,{children:"APIs: ASP.Net Core"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Name the project"}),"\n",(0,i.jsx)(n.li,{children:"Click 'Create Project'"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Sentry new project",src:r(3295).A+"",width:"1030",height:"1100"})}),"\n",(0,i.jsx)(n.h4,{id:"azure-component-setup",children:"Azure Component Setup"}),"\n",(0,i.jsx)(n.p,{children:"Sentry projects are uniquely identified by Data Source Name (DSN)."}),"\n",(0,i.jsxs)(n.p,{children:["For a given project, this can be found by navigating to ",(0,i.jsx)(n.code,{children:"Settings"})," > ",(0,i.jsx)(n.code,{children:"Projects"})," > ",(0,i.jsx)(n.code,{children:"Client Keys (DSN)"}),".\nFor more info, see ",(0,i.jsx)(n.a,{href:"https://docs.sentry.io/product/sentry-basics/dsn-explainer/",children:"here"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The DSN value should be set to ",(0,i.jsx)(n.code,{children:"SENTRY_DSN"})," for each respective component in Azure."]}),"\n",(0,i.jsx)(n.h2,{id:"alerting",children:"Alerting"}),"\n",(0,i.jsx)(n.p,{children:"Alerts have been configured for failing Azure for health checks."}),"\n",(0,i.jsx)(n.h3,{id:"create-an-action-group",children:"Create an action group"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a new alert action group","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Click 'Alerts' in the left navigation pane."}),"\n",(0,i.jsx)(n.li,{children:"Click the 'Create' drop down."}),"\n",(0,i.jsxs)(n.li,{children:["Click 'Action group' from the drop down options.\n",(0,i.jsx)(n.img,{alt:"Create Azure alert action group",src:r(3699).A+"",width:"501",height:"401"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Enter name details","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Enter name for action group"}),"\n",(0,i.jsxs)(n.li,{children:["Enter display name\n",(0,i.jsx)(n.img,{alt:"Azure create alert action group naming",src:r(526).A+"",width:"1079",height:"795"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Setup notification","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"For 'Notification type' select 'Email/SMS message/Push/Voice'"}),"\n",(0,i.jsx)(n.li,{children:"Enter an appropriate name."}),"\n",(0,i.jsxs)(n.li,{children:["Toggle the 'Email' checkbox and enter an appropriate email to receive notifications\n",(0,i.jsx)(n.img,{alt:"Azure create action group notification",src:r(578).A+"",width:"1278",height:"746"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Create","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Click 'Review + create'"}),"\n",(0,i.jsx)(n.li,{children:"Optionally, click 'Test action group' and verify an email was received"}),"\n",(0,i.jsx)(n.li,{children:"Click 'Create'"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Azure create action group create",src:r(6403).A+"",width:"1012",height:"753"})}),"\n",(0,i.jsx)(n.h3,{id:"create-an-alert-rule",children:"Create an alert rule"}),"\n",(0,i.jsx)(n.p,{children:"An alert rule needs to be created for each component with a health check (APIs)."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a new alert rule","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Click 'Alerts' in the left navigation pane."}),"\n",(0,i.jsx)(n.li,{children:"Click the 'Create' drop down."}),"\n",(0,i.jsx)(n.li,{children:"Click 'Alert Rule' from the drop down options."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Create Azure alert rule",src:r(9325).A+"",width:"501",height:"401"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Setup Health Check condition","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Select 'Health check status' for signal."}),"\n",(0,i.jsxs)(n.li,{children:["Configure the signal logic","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"less than an average of 100"}),"\n",(0,i.jsx)(n.li,{children:"aggregated over an hour"}),"\n",(0,i.jsx)(n.li,{children:"evaluated hourly"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Create Azure alert rule signal logic",src:r(1933).A+"",width:"1282",height:"761"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Setup actions to take when rule is broken","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Click 'Add action groups'"}),"\n",(0,i.jsx)(n.li,{children:"Select the previously create action group."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Azure create alert rule action group",src:r(3240).A+"",width:"1282",height:"759"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["Enter details","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Set 'Severity' to '1 - Error'"}),"\n",(0,i.jsx)(n.li,{children:"Name the alert rule"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Azure create alert rule details",src:r(2100).A+"",width:"1055",height:"749"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsxs)(n.li,{children:["Create","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Click 'Review + create'"}),"\n",(0,i.jsx)(n.li,{children:"Review the details"}),"\n",(0,i.jsx)(n.li,{children:"Click 'Create'"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Azure create alert rule create",src:r(1983).A+"",width:"880",height:"748"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},6403:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-action-group-create-915a69e638d3fd673ccd4a14a69d1674.png"},578:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-action-group-notification-a60d62e93d269a1f2698c4f68eaefc98.png"},526:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-alert-action-group-naming-b688685b39e32fffbedee7a115254384.png"},3699:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-alert-action-group-b4520638e7f17827cb143ced614ec1fc.png"},3240:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-alert-rule-action-group-9c0076e6dab960cb7c77fafee49089c5.png"},1983:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-alert-rule-create-07db3572a24f418b4df99d4042a47f6e.png"},2100:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-alert-rule-details-9c9bb87d148fa9e29b4b3b0a99935aa1.png"},1933:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-alert-rule-signal-logic-608b1622654ef03194457a059f678d7b.png"},9325:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Azure-create-alert-rule-bf5e34c4a658ffa2acd82be76eda2f8d.png"},3295:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/Sentry-new-project-800c5c663b17144936e36394dafc5cde.png"},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>a});var i=r(6540);const t={},s=i.createContext(t);function l(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);