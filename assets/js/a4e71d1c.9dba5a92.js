"use strict";(self.webpackChunkhousing_repairs_online=self.webpackChunkhousing_repairs_online||[]).push([[535],{3815:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>r,metadata:()=>d,toc:()=>h});var t=i(4848),s=i(8453);const r={sidebar_position:1},a="API Authentication",d={id:"apis/authentication",title:"API Authentication",description:"GitHub Repository",source:"@site/docs/apis/authentication.md",sourceDirName:"apis",slug:"/apis/authentication",permalink:"/housing-repairs-online/apis/authentication",draft:!1,unlisted:!1,editUrl:"https://github.com/LBHackney-IT/housing-repairs-online/tree/main/docs/apis/authentication.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"APIs",permalink:"/housing-repairs-online/apis/"},next:{title:"Health Checks",permalink:"/housing-repairs-online/apis/health-checks"}},c={},h=[{value:"Authentication",id:"authentication",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Endpoints",id:"endpoints",level:2},{value:"POST: <code>/authentication</code>",id:"post-authentication",level:4},{value:"Query Params",id:"query-params",level:4},{value:"Response",id:"response",level:4}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"api-authentication",children:"API Authentication"})}),"\n",(0,t.jsx)("a",{class:"badge badge--secondary",href:"https://github.com/LBHackney-IT/HousingRepairsOnline.Authentication",children:"GitHub Repository"}),"\n",(0,t.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,t.jsx)(n.p,{children:"Requests to each API requires authentication."}),"\n",(0,t.jsx)(n.p,{children:"The API implements JSON Web Tokens (JWT) for authentication."}),"\n",(0,t.jsx)(n.p,{children:"A unique, secret identifier is required to generate a JWT."}),"\n",(0,t.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Name"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"AUTHENTICATION_IDENTIFIER"}),(0,t.jsx)(n.td,{children:"A unique identifier used to validate access."}),(0,t.jsx)(n.td,{children:"SuperSecretIdentifier"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"JWT_SECRET"}),(0,t.jsx)(n.td,{children:"A SHA256 hash secret used for encryption."}),(0,t.jsx)(n.td,{children:"c25d5938d2bbe462887909d941638c80757f3eee18dfcd03559ac544d43cf51e"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,t.jsx)(n.p,{children:"Each API has an additional endpoint for authentication:"}),"\n",(0,t.jsxs)(n.h4,{id:"post-authentication",children:["POST: ",(0,t.jsx)(n.code,{children:"/authentication"})]}),"\n",(0,t.jsx)(n.h4,{id:"query-params",children:"Query Params"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Key"}),(0,t.jsx)(n.th,{children:"Example value"}),(0,t.jsx)(n.th,{children:"Required"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"identifier"}),(0,t.jsx)(n.td,{children:"SuperSecretIdentifier"}),(0,t.jsx)(n.td,{children:"\u2705"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"response",children:"Response"}),"\n",(0,t.jsx)(n.p,{children:"Encrytped JWT (with a 1 minute expiry):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2NDY3MzE2NjksImlzcyI6IkhvdXNpbmcgTWFuYWdlbWVudCBTeXN0ZW0gQXBpIiwiYXVkIjoiSG91c2luZyBSZXBhaXJzIE9ubGluZSJ9.NQA-T_EIMRv8294KLJO0jQ1lT3_RE7sneFhjdvoRXSg\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Requests to authenticated endpoints should include the JWT response in an ",(0,t.jsx)(n.code,{children:"Authorization"})," header:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET https://api.address/AuthenticatedEndpoint\nAuthorization: Bearer <JWT TOKEN FROM RESPONSE>\n"})})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>d});var t=i(6540);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);